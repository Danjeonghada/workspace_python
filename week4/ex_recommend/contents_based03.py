from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.metrics.pairwise import linear_kernel
from konlpy.tag import Okt

reviews = [
    "제품이 좋아요",
    "정말 만족스러워요",
    "품질이 좋아서 마음에 들어요",
    "디자인이 예뻐요",
    "사용하기 편해요",
    "배송도 빠르고 제품도 좋아요",
    "가성비 최고입니다",
    "기대 이상이에요",
    "다음에도 재구매할게요",
    "완전 추천해요",
    "퀄리티가 좋네요",
    "친구에게도 추천했어요",
    "실물이 더 예뻐요",
    "사진이랑 똑같아요",
    "마감처리도 깔끔해요",
    "정말 만족합니다",
    "사용감이 좋네요",
    "편리하게 잘 사용 중이에요",
    "색상도 예쁘고 좋아요",
    "튼튼해서 오래 쓸 것 같아요",
    "생각보다 훨씬 좋네요",
    "믿고 쓰는 제품입니다",
    "선물용으로도 딱이에요",
    "부모님도 좋아하셨어요",
    "포장이 꼼꼼했어요",
    "재질이 좋아요",
    "가격 대비 훌륭해요",
    "기능도 다양해서 좋아요",
    "처음엔 고민했는데 사길 잘했어요",
    "매우 만족합니다",
    "딱 원하던 제품이에요",
    "디자인도 심플하고 좋아요",
    "집에 두고 자주 써요",
    "배송 상태도 좋았어요",
    "재구매 의사 있습니다",
    "오랜만에 만족한 쇼핑이네요",
    "이 가격에 이 퀄리티면 최고죠",
    "사용법도 쉬워요",
    "포장도 깔끔했어요",
    "리뷰 믿고 샀는데 만족해요",
    "다음에 또 구매할게요",
    "선물했더니 좋아하더라구요",
    "자주 애용하고 있어요",
    "좋은 제품 감사합니다",
    "리뷰 남깁니다 너무 좋아요",
    "이런 제품 찾고 있었어요",
    "간편하고 실용적이에요",
    "부드럽고 좋아요",
    "색상도 화면과 같아요",
    "예상보다 훨씬 좋았어요",
    "가격도 괜찮고 좋아요",
    "편하게 사용할 수 있어요",
    "딱 필요했던 제품이에요",
    "조작도 간단해서 좋아요",
    "튼튼하고 만족스러워요",
    "심플하고 실용적이에요",
    "오래 쓸 수 있을 것 같아요",
    "이런 제품 찾기 힘든데 만족해요",
    "친절한 상담도 감사해요",
    "고민하지 말고 사세요",
    "매일 쓰고 있어요",
    "아주 유용하게 쓰고 있어요",
    "손에 착 감기는 느낌이에요",
    "진짜 추천드립니다",
    "만족도 100점이에요",
    "요즘 제일 잘 산 제품이에요",
    "받자마자 감탄했어요",
    "완성도 높은 제품이에요",
    "사용할수록 만족도가 올라가요",
    "한 번 써보면 계속 쓰게 돼요",
    "디테일까지 신경 썼네요",
    "소문대로 좋아요",
    "구매하길 잘했어요",
    "매우 실용적인 제품이에요",
    "하자 없이 잘 도착했어요",
    "퀄리티 굿입니다",
    "편리하고 안정감 있어요",
    "꼼꼼하게 만든 느낌이에요",
    "세심한 배려가 느껴져요",
    "늘 애용하는 제품입니다",
    "추천할만한 제품이에요",
    "후회 없는 선택이었어요",
    "내돈내산 강추합니다",
    "신중하게 골랐는데 대만족",
    "누구에게나 추천하고 싶어요",
    "사길 정말 잘했어요",
    "소장가치 있어요",
    "감탄하면서 사용 중이에요",
    "매일 사용하고 있어요",
    "실속 있는 제품이에요",
    "기분 좋아지는 제품이에요",
    "감사합니다 잘 쓸게요",
    "받아보니 더 좋아요",
    "실제로 보면 더 예뻐요",
    "상상 이상이에요",
    "한 번에 반했어요",
    "빠른 배송 감사해요",
    "포장도 안전하게 왔어요",
    "신뢰 가는 제품이에요",
    "다음에도 꼭 여기서 살게요",
    "기분 좋은 쇼핑이었어요",
    "애용할게요 감사합니다",
    "지인들에게도 추천할게요",
    "믿고 쓰는 브랜드입니다",
    "믿고 구매했어요",
    "기본에 충실한 제품이에요",
    "설명대로 정확해요",
    "고민할 필요 없어요",
    "깔끔하게 잘 만들어졌어요"
]
okt = Okt()
# TF-IDF
# TF, Term Frequency (문서 내에서 얼마나 자주 등장하는지)
# IDF, Inverse Document Frequency(문서 집합에서 얼마나 희귀한지)
# 단순 키워드 검색에서 보다 의미있는 검색을 위한 방법중 하나.
model = TfidfVectorizer()
tfidf = model.fit_transform(reviews)
while True:
    words = input("검색어:")
    q_tfidf = model.transform([words])
    sim = linear_kernel(q_tfidf, tfidf).flatten()
    idx = sim.argsort()[:-5:-1]  # 상위
    for id in idx:
        print(reviews[id])


